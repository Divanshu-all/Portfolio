<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Divanshu Thakur - AI & Automation</title>
    <script src="https://cdn.tailwindcss.com"></script> 
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        /* Custom styles for the page */
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #0a0a0a;
            color: #e5e7eb;
            overflow-x: hidden; /* Prevent horizontal scrollbar */
        }
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            transition: all 0.3s ease;
        }
        .glass-card:hover {
            border-color: rgba(79, 70, 229, 0.5);
            transform: translateY(-5px);
        }
        .nav-link {
            transition: color 0.3s ease;
        }
        .nav-link:hover {
            color: #818cf8;
        }
        .btn-primary {
            background: linear-gradient(to right, #6366f1, #8b5cf6);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
        }
        .section-title {
            background: -webkit-linear-gradient(#eee, #888);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .modal-overlay {
            transition: opacity 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        /* Typewriter styles */
        .typewriter-text {
            display: inline-block;
            overflow: hidden;
            white-space: pre-wrap; /* Allows wrapping */
            vertical-align: bottom;
        }
        .typewriter-cursor {
            display: inline-block;
            width: 10px;
            height: 1.2em;
            background-color: #e5e7eb;
            animation: blink 0.7s infinite;
            vertical-align: bottom;
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        /* Skills Tree Styles */
        .skills-root div { /* Target the div inside the root container */
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            position: relative;
        }
        
        .skills-connector {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
            pointer-events: none;
        }
        .pipe {
            stroke: rgba(139, 92, 246, 0.5); /* Increased opacity */
            stroke-width: 6; /* Increased width */
            fill: none;
        }
        .liquid {
            stroke: #8b5cf6;
            stroke-width: 4; /* Increased width */
            fill: none;
            stroke-dasharray: 20 40;
            animation: flow 2s linear infinite;
        }
        @keyframes flow {
            from {
                stroke-dashoffset: 60;
            }
            to {
                stroke-dashoffset: 0;
            }
        }
    </style>
</head>
<body class="antialiased">
    <!-- Background Canvas -->
    <canvas id="bg-canvas"></canvas>

    <div class="relative z-10">
        <!-- Header -->
        <header class="bg-black/30 backdrop-blur-sm sticky top-0 z-50 border-b border-gray-800">
            <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16">
                <h1 class="text-xl font-semibold text-white">Divanshu Thakur</h1>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#about" class="text-gray-300 nav-link">About</a>
                    <a href="#skills" class="text-gray-300 nav-link">Skills</a>
                    <a href="#projects" class="text-gray-300 nav-link">Projects</a>
                    <a href="#certifications" class="text-gray-300 nav-link">Certifications</a>
                    <a href="#contact" class="text-gray-300 nav-link">Contact</a>
                </div>
                <div class="md:hidden">
                    <button id="menu-btn" class="text-gray-300"><i data-feather="menu" class="w-6 h-6"></i></button>
                </div>
            </nav>
        </header>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden fixed inset-0 bg-black/90 z-50">
            <div class="flex flex-col items-center justify-center h-full">
                <button id="close-btn" class="absolute top-6 right-6 text-gray-300"><i data-feather="x" class="w-8 h-8"></i></button>
                <div class="flex flex-col items-center space-y-8">
                    <a href="#about" class="text-2xl font-medium text-gray-300 mobile-nav-link">About</a>
                    <a href="#skills" class="text-2xl font-medium text-gray-300 mobile-nav-link">Skills</a>
                    <a href="#projects" class="text-2xl font-medium text-gray-300 mobile-nav-link">Projects</a>
                    <a href="#certifications" class="text-2xl font-medium text-gray-300 mobile-nav-link">Certifications</a>
                    <a href="#contact" class="text-2xl font-medium text-gray-300 mobile-nav-link">Contact</a>
                </div>
            </div>
        </div>

        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Hero Section -->
            <section id="home" class="py-24 md:py-40 text-center">
                <h2 class="text-5xl md:text-7xl font-bold tracking-tight section-title">
                    Creative Web Development,<br>Intelligent AI Solutions.
                </h2>
                <p class="mt-6 max-w-2xl mx-auto text-lg text-gray-400">
                    A final-year Computer Science student passionate about building beautiful, functional websites and intelligent systems. I specialize in full-stack development, Generative AI, and creating powerful automation workflows.
                </p>
                <div class="mt-8">
                    <a href="#projects" class="btn-primary font-semibold py-3 px-8 rounded-full text-lg">
                        Explore My Work
                    </a>
                </div>
            </section>

            <!-- About Section -->
            <section id="about" class="py-16 md:py-24">
                <div class="max-w-4xl mx-auto text-center md:text-left">
                    <h3 class="text-3xl md:text-4xl font-bold section-title mb-6 text-center">About Me</h3>
                    <div class="text-gray-300 leading-relaxed">
                        <p id="typewriter-1" class="mb-4"></p>
                        <p id="typewriter-2"></p>
                    </div>
                </div>
            </section>

            <!-- Skills Section -->
            <section id="skills" class="py-16 md:py-24">
                <div class="text-center mb-12">
                    <h3 class="text-3xl md:text-4xl font-bold section-title">My Technical Toolkit</h3>
                </div>
                <div id="skills-tree" class="relative flex flex-col md:flex-row justify-center items-center min-h-[450px] mt-8 p-4">
                    <!-- SVG Connectors -->
                    <svg class="skills-connector hidden md:block">
                        <!-- Paths will be drawn by JS -->
                        <path id="pipe-left" class="pipe" d=""></path>
                        <path id="pipe-right" class="pipe" d=""></path>
                        <path id="liquid-left" class="liquid" d=""></path>
                        <path id="liquid-right" class="liquid" d=""></path>
                    </svg>

                    <!-- Root Node -->
                    <div class="skills-root z-10">
                        <div class="glass-card">
                            <i data-feather="tool" class="w-12 h-12 text-indigo-400"></i>
                        </div>
                    </div>

                    <!-- Left Branch: Technical Skills -->
                    <div class="w-full max-w-sm mt-8 md:mt-0 md:absolute md:right-1/2 md:mr-16 lg:mr-24">
                        <div class="glass-card p-8">
                            <h4 class="text-xl font-semibold text-white text-center mb-6">Technical</h4>
                            <div class="grid grid-cols-3 gap-5">
                                <div class="bg-gray-700/50 rounded-lg aspect-square flex items-center justify-center p-4 text-center transition-colors hover:bg-gray-700">
                                    <span class="font-medium text-sm sm:text-base">Python</span>
                                </div>
                                <div class="bg-gray-700/50 rounded-lg aspect-square flex items-center justify-center p-4 text-center transition-colors hover:bg-gray-700">
                                    <span class="font-medium text-sm sm:text-base">Java</span>
                                </div>
                                <div class="bg-gray-700/50 rounded-lg aspect-square flex items-center justify-center p-4 text-center transition-colors hover:bg-gray-700">
                                    <span class="font-medium text-sm sm:text-base">HTML & CSS</span>
                                </div>
                                <div class="bg-gray-700/50 rounded-lg aspect-square flex items-center justify-center p-4 text-center transition-colors hover:bg-gray-700">
                                    <span class="font-medium text-sm sm:text-base">Tailwind CSS</span>
                                </div>
                                <div class="bg-gray-700/50 rounded-lg aspect-square flex items-center justify-center p-4 text-center transition-colors hover:bg-gray-700">
                                    <span class="font-medium text-sm sm:text-base">JavaScript</span>
                                </div>
                                <div class="bg-gray-700/50 rounded-lg aspect-square flex items-center justify-center p-4 text-center transition-colors hover:bg-gray-700">
                                    <span class="font-medium text-sm sm:text-base">SQL</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Branch: AI & Automation -->
                    <div class="w-full max-w-sm mt-8 md:mt-0 md:absolute md:left-1/2 md:ml-16 lg:ml-24">
                        <div class="glass-card p-8">
                            <h4 class="text-xl font-semibold text-white text-center mb-6">AI & Automation</h4>
                            <div class="grid grid-cols-3 gap-5">
                                <div class="bg-gray-700/50 rounded-lg aspect-square flex items-center justify-center p-4 text-center transition-colors hover:bg-gray-700">
                                    <span class="font-medium text-sm sm:text-base">Generative AI</span>
                                </div>
                                <div class="bg-gray-700/50 rounded-lg aspect-square flex items-center justify-center p-4 text-center transition-colors hover:bg-gray-700">
                                    <span class="font-medium text-sm sm:text-base">AI Agents</span>
                                </div>
                                <div class="bg-gray-700/50 rounded-lg aspect-square flex items-center justify-center p-4 text-center transition-colors hover:bg-gray-700">
                                    <span class="font-medium text-sm sm:text-base">n8n Automation</span>
                                </div>
                                <div class="bg-gray-700/50 rounded-lg aspect-square flex items-center justify-center p-4 text-center transition-colors hover:bg-gray-700">
                                    <span class="font-medium text-sm sm:text-base">Machine Learning</span>
                                </div>
                                <div class="bg-gray-700/50 rounded-lg aspect-square flex items-center justify-center p-4 text-center transition-colors hover:bg-gray-700">
                                    <span class="font-medium text-sm sm:text-base">Hugging Face</span>
                                </div>
                                <div class="bg-gray-700/50 rounded-lg aspect-square flex items-center justify-center p-4 text-center transition-colors hover:bg-gray-700">
                                    <span class="font-medium text-sm sm:text-base">API Integration</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Projects Section -->
            <section id="projects" class="pb-16 md:pb-24">
                <div class="text-center mb-12">
                    <h3 class="text-3xl md:text-4xl font-bold section-title">Featured Projects</h3>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="glass-card overflow-hidden cursor-pointer project-card p-6" data-title="AI Workflow Automation" data-details="This project involved creating a fully automated lead generation pipeline. It uses n8n to scrape data from LinkedIn, enriches it with Generative AI for personalized messaging, and then syncs the results to a CRM.">
                        <h4 class="text-lg font-semibold text-white">AI Workflow Automation</h4>
                        <p class="mt-2 text-gray-400 text-sm">Automated lead generation pipeline using LinkedIn, n8n, and GenAI.</p>
                    </div>
                    <div class="glass-card overflow-hidden cursor-pointer project-card p-6" data-title="AI Chat Agent" data-details="This is a smart assistant built with Python and the OpenAI API. It can understand natural language, handle complex user queries, perform tasks like summarizing text, and integrate with other APIs to fetch real-time information.">
                        <h4 class="text-lg font-semibold text-white">AI Chat Agent</h4>
                        <p class="mt-2 text-gray-400 text-sm">Smart assistant built with Python and the OpenAI API.</p>
                    </div>
                    <div class="glass-card overflow-hidden cursor-pointer project-card p-6" data-title="Personal Portfolio" data-details="A clean, responsive portfolio site (the one you're on!) built from scratch with Tailwind CSS to showcase my skills and projects. It is designed to be fully mobile-friendly and easy to navigate.">
                        <h4 class="text-lg font-semibold text-white">Personal Portfolio</h4>
                        <p class="mt-2 text-gray-400 text-sm">Responsive portfolio site built with Tailwind CSS.</p>
                    </div>
                </div>
            </section>

            <!-- Certifications Section -->
            <section id="certifications" class="py-16 md:py-24">
                <div class="text-center mb-12">
                    <h3 class="text-3xl md:text-4xl font-bold section-title">Certifications</h3>
                </div>
                <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                    <div class="glass-card p-6 flex items-center space-x-4">
                        <i data-feather="award" class="w-8 h-8 text-indigo-400 flex-shrink-0"></i>
                        <div>
                            <p class="font-semibold text-white">LLM Course: Fine-tuning</p>
                            <p class="text-sm text-gray-400">Hugging Face</p>
                        </div>
                        <a href="#" class="ml-auto text-indigo-400 hover:text-indigo-300 transition-colors">View</a>
                    </div>
                    <div class="glass-card p-6 flex items-center space-x-4">
                        <i data-feather="award" class="w-8 h-8 text-indigo-400 flex-shrink-0"></i>
                        <div>
                            <p class="font-semibold text-white">MCP: Automation in Production</p>
                            <p class="text-sm text-gray-400">Hugging Face</p>
                        </div>
                        <a href="https://cdn-lfs-us-1.hf.co/repos/3a/43/3a43a361f40c6c8707c48e404bae19f3155f3472e95b1689becdcbac6fcd4a91/cacea8d3038f6928cb2d9c312075e6da28dda074f5727cf602732615f746c075?response-content-disposition=inline%3B+filename*%3DUTF-8%27%272025-07-17.png%3B+filename%3D%222025-07-17.png%22%3B&response-content-type=image%2Fpng&Expires=1753197496&Policy=eyJTdGF0ZW1lbnQiOlt7IkNvbmRpdGlvbiI6eyJEYXRlTGVzc1RoYW4iOnsiQVdTOkVwb2NoVGltZSI6MTc1MzE5NzQ5Nn19LCJSZXNvdXJjZSI6Imh0dHBzOi8vY2RuLWxmcy11cy0xLmhmLmNvL3JlcG9zLzNhLzQzLzNhNDNhMzYxZjQwYzZjODcwN2M0OGU0MDRiYWUxOWYzMTU1ZjM0NzJlOTViMTY4OWJlY2RjYmFjNmZjZDRhOTEvY2FjZWE4ZDMwMzhmNjkyOGNiMmQ5YzMxMjA3NWU2ZGEyOGRkYTA3NGY1NzI3Y2Y2MDI3MzI2MTVmNzQ2YzA3NT9yZXNwb25zZS1jb250ZW50LWRpc3Bvc2l0aW9uPSomcmVzcG9uc2UtY29udGVudC10eXBlPSoifV19&Signature=rdUT%7ErmMz3am%7EcIZzeg4KsvgWKLoZkURgqsRc1QcK6uyoT7eoqv7fBpbL6dHsxCeMGvrt0zfqE8BjkbEsVEgDPKTAfbd2XFgPDwESNhAenDF1%7E%7ES7OdeK9rvrAdLjJxf%7EH6NbaGLhtSV34n2t67hWCkGZ0QFN4VhB733YdSsWtHslzm04fmPPpL2zhbDXyymBxNfbJv1eagAA89ISeP5OG9ScAJWd1Da1BJuJ%7ELrvirw6bPlpAgT2FJP9zLbnyq2eFeunCHEGGyoObX6rePrc1yECDH6MVrS3JAJbNiOU67An%7EGFuKgb29FgBBz9R1GWlS6Pee3kFx-9SQYJgdx7PQ__&Key-Pair-Id=K24J24Z295AEI9" class="ml-auto text-indigo-400 hover:text-indigo-300 transition-colors">View</a>
                    </div>
                    <div class="glass-card p-6 flex items-center space-x-4">
                        <i data-feather="award" class="w-8 h-8 text-indigo-400 flex-shrink-0"></i>
                        <div>
                            <p class="font-semibold text-white">Python for Everybody</p>
                            <p class="text-sm text-gray-400">University of Michigan</p>
                        </div>
                        <a href="https://www.coursera.org/account/accomplishments/specialization/certificate/KGHF0GMPWY4Y" class="ml-auto text-indigo-400 hover:text-indigo-300 transition-colors">View</a>
                    </div>
                    <div class="glass-card p-6 flex items-center space-x-4">
                        <i data-feather="award" class="w-8 h-8 text-indigo-400 flex-shrink-0"></i>
                        <div>
                            <p class="font-semibold text-white">n8n Level 2 (Automation)</p>
                            <p class="text-sm text-gray-400">n8n</p>
                        </div>
                        <a href="https://drive.google.com/file/d/1EyOz5CKAQRzsO_6fe4t14rYjTN2FG2ol/view" class="ml-auto text-indigo-400 hover:text-indigo-300 transition-colors">View</a>
                    </div>
                </div>
            </section>

            <!-- Contact Section -->
            <section id="contact" class="py-16 md:py-24">
                <div class="glass-card max-w-3xl mx-auto p-8 text-center">
                    <h3 class="text-3xl font-bold text-white">Let's build something together.</h3>
                    <p class="mt-3 text-gray-400">I'm currently available for freelance projects and internship opportunities.</p>
                    <div class="mt-8 flex justify-center items-center space-x-8">
                         <a href="mailto:divanshuthakur021@gmail.com" class="text-gray-400 hover:text-indigo-400 transition-colors">
                            <i data-feather="mail" class="w-8 h-8"></i>
                        </a>
                        <a href="https://www.linkedin.com/in/divanshu-thakur-b5b50430b" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-indigo-400 transition-colors">
                            <i data-feather="linkedin" class="w-8 h-8"></i>
                        </a>
                        <a href="https://github.com/Divanshu-all" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-indigo-400 transition-colors">
                            <i data-feather="github" class="w-8 h-8"></i>
                        </a>
                    </div>
                </div>
            </section>
        </main>

        <footer class="text-center py-8 border-t border-gray-800 mt-12">
            <p class="text-gray-500 text-sm">&copy; 2024 Divanshu Thakur. All rights reserved.</p>
        </footer>
    </div>
    
    <!-- Project Modal -->
    <div id="project-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 modal-overlay opacity-0">
        <div class="bg-gray-900 border border-gray-700 rounded-lg shadow-xl w-full max-w-lg modal-content transform scale-95 opacity-0">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 id="modal-title" class="text-2xl font-bold text-white"></h3>
                    <button id="modal-close-btn" class="text-gray-400 hover:text-white">
                        <i data-feather="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <p id="modal-details" class="text-gray-300"></p>
            </div>
        </div>
    </div>

    <script>
        // Wait for the DOM to be fully loaded before running scripts
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Feather Icons
            feather.replace();

            // Mobile Menu Logic
            const menuBtn = document.getElementById('menu-btn');
            const closeBtn = document.getElementById('close-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.remove('hidden');
                mobileMenu.classList.add('flex');
            });

            closeBtn.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
                mobileMenu.classList.remove('flex');
            });

            mobileNavLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                    mobileMenu.classList.remove('flex');
                });
            });
            
            // Project Modal Logic
            const projectCards = document.querySelectorAll('.project-card');
            const projectModal = document.getElementById('project-modal');
            const modalContent = projectModal.querySelector('.modal-content');
            const modalTitle = document.getElementById('modal-title');
            const modalDetails = document.getElementById('modal-details');
            const modalCloseBtn = document.getElementById('modal-close-btn');

            projectCards.forEach(card => {
                card.addEventListener('click', () => {
                    modalTitle.textContent = card.dataset.title;
                    modalDetails.textContent = card.dataset.details;
                    projectModal.classList.remove('hidden');
                    setTimeout(() => {
                        projectModal.classList.remove('opacity-0');
                        modalContent.classList.remove('scale-95', 'opacity-0');
                    }, 10);
                });
            });

            function closeModal() {
                modalContent.classList.add('scale-95', 'opacity-0');
                projectModal.classList.add('opacity-0');
                setTimeout(() => {
                    projectModal.classList.add('hidden');
                }, 300);
            }

            modalCloseBtn.addEventListener('click', closeModal);
            projectModal.addEventListener('click', (e) => {
                if (e.target === projectModal) {
                    closeModal();
                }
            });

            // Typewriter Effect Logic
            function setupTypewriter(element, text, callback) {
                let i = 0;
                element.innerHTML = '<span class="typewriter-text"></span><span class="typewriter-cursor"></span>';
                const textElement = element.querySelector('.typewriter-text');
                const cursorElement = element.querySelector('.typewriter-cursor');
                
                function type() {
                    if (i < text.length) {
                        textElement.textContent += text.charAt(i);
                        i++;
                        setTimeout(type, 50); // Typing speed
                    } else {
                        if (callback) {
                            setTimeout(callback, 700); 
                        } else {
                            // Keep cursor blinking at the end
                        }
                    }
                }
                type();
            }

            const text1 = "Hello! I'm Divanshu, a final-year Computer Science student from the beautiful town of Sundernagar, Himachal Pradesh. My passion lies at the intersection of artificial intelligence and automationâ€”I love building smart systems that solve complex problems and streamline processes.";
            const text2 = "From crafting intelligent AI Agents with Generative AI to designing end-to-end automation workflows, my goal is to engineer solutions that are both powerful and precise. I'm constantly exploring new technologies and pushing the boundaries of what's possible with code.";

            // Function to draw SVG paths for the skills tree
            function updateSvgPaths() {
                // The md breakpoint in Tailwind is 768px
                if (window.innerWidth < 768) {
                    return; // Don't draw paths on mobile
                }

                const container = document.getElementById('skills-tree');
                const rootEl = container.querySelector('.skills-root');
                const leftBranch = container.querySelector('.md\\:right-1\\/2');
                const rightBranch = container.querySelector('.md\\:left-1\\/2');

                if (!container || !rootEl || !leftBranch || !rightBranch) return;

                const containerRect = container.getBoundingClientRect();
                const rootRect = rootEl.getBoundingClientRect();
                const leftRect = leftBranch.getBoundingClientRect();
                const rightRect = rightBranch.getBoundingClientRect();

                // Calculate coordinates relative to the container
                const startX = rootRect.left + rootRect.width / 2 - containerRect.left;
                const startY = rootRect.top + rootRect.height / 2 - containerRect.top;

                const leftEndX = leftRect.right - containerRect.left;
                const leftEndY = leftRect.top + leftRect.height / 2 - containerRect.top;
                
                const rightEndX = rightRect.left - containerRect.left;
                const rightEndY = rightRect.top + rightRect.height / 2 - containerRect.top;

                // Define bezier curve control points for a smooth arc
                const controlX1_left = startX - 100;
                const controlX2_left = leftEndX + 100;
                
                const controlX1_right = startX + 100;
                const controlX2_right = rightEndX - 100;

                const pathLeft = `M ${startX} ${startY} C ${controlX1_left} ${startY}, ${controlX2_left} ${leftEndY}, ${leftEndX} ${leftEndY}`;
                const pathRight = `M ${startX} ${startY} C ${controlX1_right} ${startY}, ${controlX2_right} ${rightEndY}, ${rightEndX} ${rightEndY}`;

                document.getElementById('pipe-left').setAttribute('d', pathLeft);
                document.getElementById('liquid-left').setAttribute('d', pathLeft);
                document.getElementById('pipe-right').setAttribute('d', pathRight);
                document.getElementById('liquid-right').setAttribute('d', pathRight);
            }

            // Three.js Background Animation
            let scene, camera, renderer, particles, shapesGroup, mouse, originalPositions;
            const canvas = document.getElementById('bg-canvas');

            function initThreeJS() {
                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                camera.position.z = 50;
                
                renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                
                mouse = new THREE.Vector2(-100, -100);

                // Particles
                const particleCount = 5000;
                const p_geometry = new THREE.BufferGeometry();
                const positions = new Float32Array(particleCount * 3);
                for (let i = 0; i < particleCount * 3; i++) {
                    positions[i] = (Math.random() - 0.5) * 200;
                }
                originalPositions = Float32Array.from(positions);
                p_geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                const p_material = new THREE.PointsMaterial({ size: 0.07, color: 0x818cf8 });
                particles = new THREE.Points(p_geometry, p_material);
                scene.add(particles);

                // Larger Shapes
                shapesGroup = new THREE.Group();
                const shapeCount = 25;
                const shapeGeometries = [
                    new THREE.BoxGeometry(2, 2, 2), new THREE.SphereGeometry(1.5, 16, 16),
                    new THREE.TorusGeometry(1.5, 0.5, 16, 100), new THREE.IcosahedronGeometry(2, 0)
                ];
                const shapeMaterial = new THREE.MeshBasicMaterial({ color: 0xaaaaaa, wireframe: true, transparent: true, opacity: 0.2 });
                for (let i = 0; i < shapeCount; i++) {
                    const geometry = shapeGeometries[Math.floor(Math.random() * shapeGeometries.length)];
                    const shape = new THREE.Mesh(geometry, shapeMaterial);
                    shape.position.set((Math.random() - 0.5) * 100, (Math.random() - 0.5) * 100, (Math.random() - 0.5) * 100);
                    shape.rotation.set(Math.random() * Math.PI, Math.random() * Math.PI, Math.random() * Math.PI);
                    shapesGroup.add(shape);
                }
                scene.add(shapesGroup);

                window.addEventListener('resize', onWindowResize, false);
                window.addEventListener('mousemove', onMouseMove, false);
            }

            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
                updateSvgPaths();
            }
            
            function onMouseMove(event) {
                mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
                mouse.y = - (event.clientY / window.innerHeight) * 2 + 1;
            }

            function animate() {
                requestAnimationFrame(animate);

                shapesGroup.rotation.y -= 0.0005;
                shapesGroup.rotation.x -= 0.0003;

                // Interactive particle animation
                const positions = particles.geometry.attributes.position.array;
                const particleCount = positions.length / 3;
                
                let vector = new THREE.Vector3(mouse.x, mouse.y, 0.5);
                vector.unproject(camera);
                let dir = vector.sub(camera.position).normalize();
                let distance = -camera.position.z / dir.z;
                let mousePoint = camera.position.clone().add(dir.multiplyScalar(distance));

                for (let i = 0; i < particleCount; i++) {
                    const ix = i * 3, iy = i * 3 + 1, iz = i * 3 + 2;
                    
                    const dx = mousePoint.x - originalPositions[ix];
                    const dy = mousePoint.y - originalPositions[iy];
                    const dist = Math.sqrt(dx * dx + dy * dy);

                    const waveStrength = 15.0;
                    const waveRadius = 25.0;

                    let targetZ = originalPositions[iz];

                    if (dist < waveRadius) {
                        const factor = (1 - (dist / waveRadius));
                        targetZ += Math.pow(factor, 2) * waveStrength;
                    }
                    
                    positions[iz] += (targetZ - positions[iz]) * 0.1;
                }
                particles.geometry.attributes.position.needsUpdate = true;

                renderer.render(scene, camera);
            }

            // --- Initialization ---
            initThreeJS();
            animate();

            // Start typewriter after a brief delay
            setTimeout(() => {
                const typewriterEl1 = document.getElementById('typewriter-1');
                const typewriterEl2 = document.getElementById('typewriter-2');
                setupTypewriter(typewriterEl1, text1, () => {
                    typewriterEl1.querySelector('.typewriter-cursor').style.display = 'none';
                    setupTypewriter(typewriterEl2, text2);
                });
            }, 500);

            // Calculate SVG paths after layout is stable
            setTimeout(updateSvgPaths, 100);
        });
    </script>
</body>
</html>
